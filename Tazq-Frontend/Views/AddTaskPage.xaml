<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:Tazq_Frontend.ViewModels"
             x:Class="Tazq_Frontend.Views.AddTaskPage"
             Title="Yeni Görev Ekle"
             BackgroundColor="#1F2D3D">

    <ContentPage.BindingContext>
        <vm:AddTaskViewModel />
    </ContentPage.BindingContext>

    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="15">

            <Label Text="Başlık" TextColor="White" />
            <Entry Text="{Binding Title}" Placeholder="Görev başlığı" />

            <Label Text="Açıklama" TextColor="White" />
            <Editor Text="{Binding Description}" Placeholder="Detaylı açıklama..." AutoSize="TextChanges" />

            <Label Text="Öncelik" TextColor="White" />
            <Picker ItemsSource="{Binding PriorityOptions}" SelectedItem="{Binding SelectedPriority}" />

            <Label Text="Son Tarih" TextColor="White" />
            <DatePicker Date="{Binding DueDate}" />

            <Label Text="Etiketler" TextColor="White" />
            <Entry Text="{Binding NewTag}" Placeholder="Etiket girin" />
            <Button Text="Ekle" Command="{Binding AddTagCommand}" />

            <CollectionView ItemsSource="{Binding Tags}" HeightRequest="80">
                <CollectionView.ItemsLayout>
                    <LinearItemsLayout Orientation="Horizontal" />
                </CollectionView.ItemsLayout>
                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <Frame BackgroundColor="#90CAF9" Padding="8" Margin="4" CornerRadius="16">
                            <Label Text="{Binding .}" TextColor="Black" />
                        </Frame>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>

            <Button Text="Kaydet" Command="{Binding AddTaskCommand}" BackgroundColor="#4CAF50" TextColor="White" />

            <Button Text="Geri Dön" BackgroundColor="#455A64" TextColor="White"
                    Command="{Binding GoBackCommand}" />
        </VerticalStackLayout>
    </ScrollView>
</ContentPage>